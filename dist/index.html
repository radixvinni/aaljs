<!DOCTYPE html>
<html>
  <head>
    <title>Empythoned</title>
    <script src="python.opt.js">
    </script>
    <script>
    function start() {
     Python.initialize();
     var input = document.getElementById('input')
          , output = document.getElementById('output')
          , button = document.getElementById('button');
     Module.print = function(x) { document.getElementById('output').value += x + "\n"; }
     button.value = "Execute";
     input.disabled = false;
     button.disabled = false;
     button.onclick = function() {
       if (Python.isFinished(input.value)) {
        var result = Python.eval(input.value);
        if (result !== null && result !== undefined) {
          console.log('\n--------------------------\nResult: ' + result);
        }
      } else {
       consoe.log('\nCommand not finished.\n');
      }
     }
    }
    window.onload = start;
    </script>
  </head>
  <body>
    <h1>Empythoned Demo</h1>
    <textarea disabled="true" id="input" style="font-family: monospace; width: 80%" rows="8">print 'Hello World'</textarea>
    <input disabled="true" id="button" type="button" value="loading........." style="display: block; margin: auto" />
    <textarea id="output" style="font-family: monospace; width: 80%" rows="8"></textarea>
    <hr>
  </body>
</html>
